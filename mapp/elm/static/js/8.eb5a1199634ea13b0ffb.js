webpackJsonp([8],{W9UX:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i={data:function(){return{moreIndex:-1,moreShow:!1,filterIndex:0,recommendSellArr:[]}},created:function(){this.userAddress=JSON.parse(localStorage.getItem("_ADDRESS_")),this.getGoods()},methods:{toggleFlag:function(t,s){t.flagShow=1===s},gotoShop:function(t){this.$router.push({path:"/shop",query:{id:t}})},goback:function(){this.$router.push("/")},getGoods:function(){var t=this,s=this.$route.params.keywords;this.$api.get("/apis/a/restapi/shopping/v2/restaurants/search",{offset:0,limit:15,keyword:s,latitude:this.userAddress.latitude,longitude:this.userAddress.longitude,search_item_type:3,is_rewrite:1,extras:["activities","coupon"],terminal:"h5"}).then(function(a){console.log(a);var i=a.inside[0].restaurant_with_foods;i.forEach(function(t,s){t.flagShow=!1}),t.recommendSellArr=i,t.recommendSellArr.map(function(t){t.restaurant.name=t.restaurant.name.replace(s,'<span class="height-keyword">'+s+"</span>")})})},choseOne:function(){},choseList:function(){},choseFour:function(){}}},e={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"search-keywords"},[a("div",{staticClass:"fixed-w"},[a("form",{staticClass:"fixed-top-search"},[a("div",{staticClass:"goback",on:{click:t.goback}},[a("svg",{staticClass:"goback-icon-svg",attrs:{viewBox:"0 0 20 32",fill:"#999",width:"100%",height:"100%"}},[a("path",{attrs:{d:"M16.552 5.633l-2.044-2.044L2.243 15.854l12.265 12.557 2.044-2.044L6.331 15.854z"}})])]),t._v(" "),a("div",{staticClass:"input-w"},[a("svg",{staticClass:"icon-fangdajing",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-opacity":".38",d:"M14.778 13.732a.739.739 0 1 1-1.056 1.036l-2.515-2.565a.864.864 0 0 1-.01-1.206 4.894 4.894 0 0 0 1.357-3.651c-.126-2.492-2.156-4.52-4.648-4.647a4.911 4.911 0 0 0-5.16 5.163c.126 2.475 2.13 4.496 4.605 4.642.451.026.896-.008 1.326-.1a.739.739 0 0 1 .308 1.446c-.56.12-1.137.164-1.72.13-3.227-.19-5.83-2.815-5.995-6.042a6.39 6.39 0 0 1 6.71-6.715c3.25.165 5.884 2.8 6.05 6.048a6.37 6.37 0 0 1-1.374 4.3l2.12 2.161z"}})]),t._v(" "),a("input",{staticClass:"input",attrs:{type:"text",placeholder:"输入商家、商品名称"}})]),t._v(" "),a("button",{staticClass:"btn-search",attrs:{type:"submit"}},[t._v("搜索")])]),t._v(" "),a("ul",{ref:"filterW",staticClass:"filter-uls border-bottom-1px"},[a("li",{staticClass:"filter-list",class:{"current-filter":0===t.filterIndex},on:{click:t.choseOne}},[a("span",[t._v("综合排序")]),t._v(" "),a("svg",{staticClass:"dropdown-icon",attrs:{viewBox:"0 0 72 32"}},[a("path",{attrs:{"data-v-a5cc4024":"",d:"M36 32l36-32h-72z"}})])]),t._v(" "),a("li",{staticClass:"filter-list",class:{"current-filter":1===t.filterIndex},on:{click:function(s){t.choseList(1)}}},[t._v("距离最近")]),t._v(" "),a("li",{staticClass:"filter-list",class:{"current-filter":2===t.filterIndex},on:{click:function(s){t.choseList(2)}}},[t._v("品质联盟")]),t._v(" "),a("li",{staticClass:"filter-list",class:{"current-filter":3===t.filterIndex},on:{click:t.choseFour}},[a("span",[t._v("筛选")]),t._v(" "),a("svg",{staticClass:"filter-nav-more__icon"},[a("use",{attrs:{"data-v-a5cc4024":"","xlink:href":"#more-filter"}},[a("svg",{attrs:{viewBox:"0 0 26 26",id:"more-filter",width:"100%",height:"100%"}},[a("path",{attrs:{d:"M9.001 15.009V23a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7.981l7.788-10.01a1 1 0 0 0-1.578-1.228l-8 10.28a1 1 0 0 0-.21.615V22h-4v-7.324a1 1 0 0 0-.2-.6L4.001 5h14a1 1 0 0 0 0-2H2a1 1 0 0 0-.8 1.6L9 15.009z"}})])])])])])]),t._v(" "),a("div",{staticClass:"wrapper"},[a("cube-scroll",{ref:"scrollS",attrs:{"scroll-events":["scroll"],data:t.recommendSellArr}},[a("ul",{staticClass:"shopping-uls"},t._l(t.recommendSellArr,function(s,i){return a("li",{key:i,staticClass:"shopping-list border-bottom-1px",on:{click:function(a){t.gotoShop(s.restaurant.id)}}},[a("div",{staticClass:"goods-logo"},[a("img",{attrs:{src:t.$imgUrl(s.restaurant.image_path,12),alt:""}})]),t._v(" "),a("div",{staticClass:"goods-info"},[a("div",{staticClass:"top-title"},[a("h3",{staticClass:"goods-title nowrap"},[a("span",{staticClass:"brand"},[t._v("品牌")]),t._v(" "),a("span",{staticClass:"title-text nowrap",domProps:{innerHTML:t._s(s.restaurant.name)}})]),t._v(" "),a("div",{staticClass:"right"},t._l(s.restaurant.supports,function(s,i){return a("div",{key:i,staticClass:"icon-item"},[t._v(t._s(s.icon_name))])}))]),t._v(" "),a("div",{staticClass:"star-w"},[a("div",{staticClass:"star-l"},[a("div",{staticClass:"star"},[t._v("☆☆☆☆☆")]),t._v(" "),a("span",{staticClass:"grade-num"},[t._v(t._s(s.restaurant.rating))]),t._v(" "),a("span",[t._v("月售"+t._s(s.restaurant.recent_order_num)+"单")])]),t._v(" "),s.restaurant.delivery_mode?a("div",[s.restaurant.delivery_mode.text?a("div",{staticClass:"hummingbird"},[t._v(t._s(s.restaurant.delivery_mode.text))]):t._e()]):t._e()]),t._v(" "),a("div",{staticClass:"money"},[a("div",{staticClass:"price"},[a("span",[t._v("￥"+t._s(s.restaurant.float_minimum_order_amount)+"元起送")]),t._v(" "),a("div",{staticClass:"price-border"},[t._v(t._s(s.restaurant.piecewise_agent_fee.description))])]),t._v(" "),a("div",{staticClass:"price"},[a("span",[t._v(t._s(t.$distance(s.restaurant.distance)))]),t._v(" "),a("div",{staticClass:"price-border"},[t._v(t._s(s.restaurant.order_lead_time)+"分钟")])])]),t._v(" "),a("ul",{staticClass:"tag-uls"},t._l(s.restaurant.support_tags,function(s,i){return a("li",{key:i,staticClass:"tag-list"},[t._v(t._s(s.text))])})),t._v(" "),a("div",{staticClass:"activity-w"},[a("ul",{staticClass:"activity-uls nowrap"},t._l(s.restaurant.activities,function(s,i){return i<2?a("li",{key:i,staticClass:"activity-list"},[a("div",{staticClass:"tag-first"},[t._v(t._s(s.icon_name))]),t._v(" "),a("span",{staticClass:"nowrap"},[t._v(t._s(s.tips))])]):t._e()})),t._v(" "),a("div",{staticClass:"activity-total"},[a("span",[t._v(t._s(s.restaurant.activities.length)+"个活动")]),t._v(" "),a("svg",{staticClass:"dropdown-icon",attrs:{viewBox:"0 0 72 32",fill:"#666"}},[a("path",{attrs:{"data-v-a5cc4024":"",d:"M36 32l36-32h-72z"}})])])]),t._v(" "),a("ul",{staticClass:"foods-w"},t._l(s.foods,function(s,i){return i<3?a("li",{key:i,staticClass:"foods-item"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.$imgUrl(s.image_path,2),alt:""}})]),t._v(" "),a("p",{staticClass:"name nowrap"},[t._v(t._s(s.name))]),t._v(" "),a("p",{staticClass:"price"},[t._v("￥"+t._s(s.price))])]):t._e()})),t._v(" "),a("div",{on:{click:function(a){t.toggleFlag(s,1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1===s.flagShow,expression:"item.flagShow === false"}]},[a("div",{directives:[{name:"show",rawName:"v-show",value:s.foods&&s.foods.length>3,expression:"item.foods && item.foods.length > 3"}],staticClass:"more"},[a("span",[t._v("查看其它相关商品 "+t._s(s.foods.length-3)+"个")]),t._v(" "),a("div",{staticClass:"more-bottom-icon"})])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!0===s.flagShow,expression:"item.flagShow === true"}],staticClass:"more-foods"},[a("ul",{staticClass:"foods-w-2"},t._l(s.foods,function(s,i){return i>=3?a("li",{key:i,staticClass:"foods-item2"},[a("div",{staticClass:"name nowrap"},[a("div",{staticClass:"nowrap"},[t._v(t._s(s.name))]),t._v(" "),a("div",{staticClass:"price"},[t._v("￥"+t._s(s.price))])]),t._v(" "),a("p",[t._v("月售"+t._s(s.month_sales)+"份")])]):t._e()})),t._v(" "),a("div",{staticClass:"pack-up",on:{click:function(a){t.toggleFlag(s,2)}}},[a("span",[t._v("收起")]),a("div",{staticClass:"more-top-icon"})])])])])}))])],1)])},staticRenderFns:[]};var r=a("VU/8")(i,e,!1,function(t){a("Z/ON")},"data-v-07e0237a",null);s.default=r.exports},"Z/ON":function(t,s){}});
//# sourceMappingURL=8.eb5a1199634ea13b0ffb.js.map