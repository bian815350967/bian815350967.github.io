(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6f60264","chunk-b9ff4a9a"],{"0df7":function(t,e,s){"use strict";var a=s("155b"),o=s.n(a);o.a},"155b":function(t,e,s){},"3d70":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cube-page",class:t.type},[s("div",{staticClass:"wrapper"},[s("section",{directives:[{name:"show",rawName:"v-show",value:t.desc,expression:"desc"}],staticClass:"desc"},[t._t("desc",[t._v(t._s(t.desc))])],2),s("main",{staticClass:"content"},[t._t("content",[t._v(t._s(t.content))])],2)])])},o=[],l={props:{title:{type:String,default:"",required:!0},type:{type:String,default:""},desc:{type:String,default:""},content:{type:String,default:""}},methods:{back:function(){this.$router.back()}}},n=l,i=(s("6fa7"),s("2877")),r=Object(i["a"])(n,a,o,!1,null,null,null);e["default"]=r.exports},"6fa7":function(t,e,s){"use strict";var a=s("c0f3"),o=s.n(a);o.a},aada:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cube-page",{staticClass:"toutiao",attrs:{type:"scroll-view",title:"Scroll"}},[s("template",{slot:"content"},[s("div",{staticClass:"nav-scroll-list-wrap"},[s("cube-tab-bar",{staticClass:"tabbar-top",attrs:{"show-slider":""},model:{value:t.selectedLabelSlots,callback:function(e){t.selectedLabelSlots=e},expression:"selectedLabelSlots"}},t._l(t.tabs,function(e){return s("cube-tab",{key:e.label,attrs:{label:e.label},nativeOn:{click:function(s){return t.selectItem(e)}}},[s("div",[t._v(t._s(e.label))])])}),1)],1),s("div",{staticClass:"content-scroll-wrapper"},[s("div",{ref:"scrollWrapper",staticClass:"content-scroll-list-wrap"},[s("cube-scroll",{ref:"contentScroll",attrs:{data:t.topicArr,options:t.options},on:{"pulling-down":t.onPullingDown,"pulling-up":t.onPullingUp},scopedSlots:t._u([{key:"pulldown",fn:function(e){return[e.pullDownRefresh?s("div",{staticClass:"cube-pulldown-wrapper",style:e.pullDownStyle},[e.beforePullDown?s("div",{staticClass:"before-trigger",style:{paddingTop:e.bubbleY+"px"}},[s("span",{class:{rotate:e.bubbleY>0}},[t._v("↓")])]):s("div",{staticClass:"after-trigger"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isPullingDown,expression:"props.isPullingDown"}],staticClass:"loading"},[s("cube-loading")],1),s("transition",{attrs:{name:"success"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPullingDown,expression:"!props.isPullingDown"}],staticClass:"text-wrapper"},[s("span",{staticClass:"refresh-text"},[t._v("刷新成功")])])])],1)]):t._e()]}}])},[s("ul",{staticClass:"uls"},[t._l(t.topicArr,function(e,a){return s("li",{key:a,staticClass:"list-item",on:{click:function(s){return t.gotoDetails(e)}}},[s("div",{staticClass:"avatar"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.author.avatar_url,expression:"item.author.avatar_url"}],attrs:{alt:""},on:{load:t.onImgLoad}})]),s("div",{staticClass:"content"},[s("div",{staticClass:"title-w"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"weex"!==e.tab,expression:"item.tab !== 'weex'"}],staticClass:"title-icon",style:{"background-color":t.iconCls(e)}},[t._v(t._s(t.iconKeywords(e)))]),s("h3",{staticClass:"title-msg"},[t._v(" "+t._s(e.title))])]),s("div",{staticClass:"desc-w"},[s("div",[s("span",{staticClass:"author"},[t._v(t._s(e.author.loginname))]),s("span",{staticStyle:{color:"#9e78c0"}},[t._v(t._s(e.reply_count))]),t._v(" / "+t._s(e.visit_count)+"\n                  ")]),s("span",[t._v(t._s(t.$getDateDiff(e.last_reply_at)))])])])])}),s("cube-loading",{directives:[{name:"show",rawName:"v-show",value:0===t.topicArr.length,expression:"topicArr.length === 0"}],staticClass:"loading-w"})],2),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasMore,expression:"!hasMore"}],staticClass:"no-more"},[t._v("没有更多了")])])],1)])])],2)},o=[],l=s("3d70"),n={data:function(){return{pageIndex:1,hasMore:!0,topicArr:[],selectedLabelSlots:"全部",tabName:"",tabs:[{label:"全部",tab:""},{label:"精华",tab:"good"},{label:"weex",tab:"weex"},{label:"分享",tab:"share"},{label:"问答",tab:"ask"},{label:"招聘",tab:"job"}],options:{pullDownRefresh:{threshold:60,stopTime:1e3,txt:"更新成功"},pullUpLoad:!0},secondStop:26}},created:function(){this.getTopics(1)},components:{CubePage:l["default"]},methods:{gotoDetails:function(t){this.$router.push({path:"/details",query:{id:t.id}})},onPullingDown:function(){var t=this,e={page:1,limit:20};this.tabName&&(e.tab=this.tabName),this.$fetch.get("/topics",e).then(function(e){t.topicArr=e.data,setTimeout(function(){t.$refs.contentScroll.forceUpdate(),t.$refs.contentScroll.scrollTo(0,t.secondStop,300)},500)})},onPullingUp:function(){var t=this,e=this.tabName;if(this.hasMore){this.pageIndex++;var s={page:this.pageIndex,limit:20};e&&(s.tab=e),this.$fetch.get("/topics",s).then(function(e){setTimeout(function(){t.$refs.contentScroll.forceUpdate(),t.topicArr=t.topicArr.concat(e.data),0===e.data.length||e.data.length<20?t.hasMore=!1:t.hasMore=!0},1e3)}).catch(function(){t.$refs.contentScroll.forceUpdate()})}else this.$refs.contentScroll.forceUpdate()},onImgLoad:function(){var t=this.$refs.contentScroll;t&&t.scroll.beforePullDown&&t.refresh()},selectItem:function(t){this.$refs.contentScroll.forceUpdate(),this.$refs.contentScroll.refresh(),this.$refs.contentScroll.scrollTo(0,this.secondStop,300),this.hasMore=!0,this.tabName=t.tab,this.topicArr=[],this.getTopics(1,t.tab)},getTopics:function(t,e){var s=this,a={page:t,limit:20};e&&(a.tab=e),this.$fetch.get("/topics",a).then(function(t){s.topicArr=t.data,t.data.length<20?s.options.pullUpLoad=!1:s.options.pullUpLoad=!0})},iconKeywords:function(t){if(t.top)return"置顶";var e=t.tab;return"good"===e?"精华":"weex"===e?"":"share"===e?"分享":"ask"===e?"问答":"job"===e?"招聘":void 0},iconCls:function(t){var e=t.tab;return t.top||"good"===e?"#009688":"rgb(153, 153, 153)"}},mounted:function(){}},i=n,r=(s("0df7"),s("2877")),c=Object(r["a"])(i,a,o,!1,null,null,null);e["default"]=c.exports},c0f3:function(t,e,s){}}]);